---
title: サンプルデータ (SQL Server データマイニングアドイン) |Microsoft Docs
ms.custom: ''
ms.date: 03/06/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: analysis-services
ms.topic: conceptual
helpviewer_keywords:
- mining models, validating
- holdout
- testing cases
- training cases
- partitioning data [data mining]
- mining models, testing
ms.assetid: 35907ae6-887f-4cb3-a750-cff3d7683d90
author: minewiskan
ms.author: owend
ms.openlocfilehash: eb8c0f9424c9e817ee482f426b3045e878a9c9c9
ms.sourcegitcommit: f0772f614482e0b3cde3609e178689ce62ca3a19
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/09/2020
ms.locfileid: "84539064"
---
# <a name="sample-data-sql-server-data-mining-add-ins"></a>サンプル データ (SQL Server データ マイニング アドイン)
  ![[データ マイニング] リボンの、データのパーティション分割ウィザード](media/dmc-partition.gif "[データ マイニング] リボンの、データのパーティション分割ウィザード")  
  
 **サンプルデータ**ウィザードを使用すると、ソースデータを2つのセットに簡単に分割できます。1つはモデルの構築 (トレーニング) 用で、もう1つはモデルのテスト用です。 このウィザードでは、ターゲットをより的確に表す新しいデータ セットを作成するために、データをサンプリングし直すこともできます。  
  
 モデルのトレーニングとテストのために適切なデータを作成する作業は、データ マイニングの重要な部分ですが、適切なツールがないと面倒になりがちです。 ウィザードは、階層化されたサンプリングを実行して、トレーニング セットとテスト セットが均衡化されるようにします。  
  
## <a name="random-sampling-and-oversampling"></a>ランダム サンプリングとオーバーサンプリング  
 . モデルのテストに使用するデータが、モデルの作成に使用するデータにほぼ相当するようにする方法としては、ランダム サンプリングが最も適しています。 Excel または外部データ ソースに格納されているデータを、ランダムにサンプリングすることができます。  
  
 ランダムサンプリングオプションを使用する場合、**サンプルデータ**ウィザードでは、トレーニングデータセットとテストデータセットが自動的に作成され、後で参照できるように別々の Excel ワークシートに出力されます。  
  
 データが外部データソースではなく Excel ブックに格納されている場合は、*オーバーサンプリング*を使用することもできます。 このオプションを使用する場合は、データ内にほとんど出現しないターゲット値を指定します。すると、ウィザードはターゲット値を多く含む均衡化されたセットを収集します。 目標の割合を達成するか、または一定の行数を作成するように、ウィザードに指示できます。  
  
 オーバーサンプリングオプションを使用した場合、**サンプルデータ**ウィザードでは、新しく均衡が取れたサンプルデータを含む新しいワークシートが作成されます。  
  
## <a name="using-the-sample-data-wizard"></a>サンプル データ ウィザードの使用  
  
#### <a name="to-separate-data-into-training-and-testing-sets"></a>データをトレーニング セットとテスト セットに分割するには  
  
1.  [**データマイニング**] リボンで、[**サンプルデータ**] をクリックします。  
  
2.  [**ソースデータの選択**] ページで、パーティション分割する**データ**を Excel の範囲またはテーブルに含めるか、外部データソースに含めるかを指定します。  
  
3.  [**サンプリングの種類の選択**] ページで、ランダムサンプリングによってトレーニングデータセットとテストデータセットを作成するか、オーバーサンプリングによって新しいデータセットを作成するかを指定します。  
  
    > [!NOTE]  
    >  外部データ ソースを使用する場合は、ランダム サンプリング オプションのみを選択できます。 外部データでオーバーサンプリングを使用する場合は、Excel のデータ接続を使用して Excel ブックにデータをインポートしたうえで、サンプル データ ウィザードを使用します。  
  
4.  選択したサンプリング方法固有のオプションを設定します。  
  
    -   ランダム サンプリングの場合は、テストに使用する元のデータの割合を指定するか、テスト データ セットで使用する合計行数を指定します。  
  
    -   オーバーサンプリングの場合は、重点を置く列と値を選択します。 次に、新しいデータ セットの合計行数を指定し、新しいデータ セットでターゲット値を含んでいる必要がある行の割合を指定します。  
  
         オーバーサンプリングのターゲット値は、不連続値でなければなりません。連続する数値データをオーバーサンプリングすることはできません。  
  
5.  [**完了] ページ**で、新しいデータセットの既定の名前をそのまま使用するか、新しい名前を入力します。  
  
     ウィザードによって、各データ セット用の新しいワークシートが作成されます。  
  
 Excel 用のデータ マイニング クライアントのほとんどのウィザードでは、データをトレーニング セットとテスト セットにランダムに分割できるようになっています。 ただし、これらのウィザードを使用した場合は、データが同じワークシート (または他のデータ ソース) にそのまま保持され、特定の行がテスト ケースかトレーニング ケースかを示す情報が内部に格納されます。 これに対し、**サンプルデータ**ウィザードを使用すると、テストデータとトレーニングデータが別々のワークシートに出力され、簡単に参照できるようになります。  
  
## <a name="related-options"></a>関連オプション  
 ウィザードに従って処理するときは、次のオプションがあります。  
  
|オプション|コメント|  
|-------------|--------------|  
|[ソース データの選択] ダイアログ ボックス (Excel 用のデータ マイニング クライアント)|データが保存されている Excel 範囲またはテーブルを選択します。 外部データを使用する場合、リレーショナル データも使用できますが、[!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] のデータ ソースに含まれている必要があります。 T|  
|[サンプリングの種類の選択] ページ (Excel 用のデータ マイニング クライアント)|外部データソースを使用する場合、ランダムサンプリングオプションの使用に制限されます。 また、[**行数**] オプションを使用して、最終的なデータセットに作成する行の数を指定する必要があります。 ソース データの割合を指定することはできません。|  
|[ランダム サンプリング] ページ (Excel 用のデータ マイニング クライアント)|割合または数を指定して、ソースから行をコピーできます。|  
|[オーバーサンプリング] ページ (Excel 用のデータ マイニング クライアント)|**ターゲットの状態**<br /><br /> 元のデータ セットでの出現率が低い値を一覧から選択します。 オーバーサンプリングによって、この状態を含むデータ行の割合が高くなります。<br /><br /> **サンプル サイズ**<br /><br /> 抽出する行数の合計を選択します。 この値は、最終的なデータ セットのサイズを表します。|  
  
## <a name="other-sampling-options"></a>その他のサンプリング オプション  
 このウィザードのサンプリング オプションが目的に合わない場合は、SQL Server Integration Services (SSIS) のサンプリング変換を使用して、複数のデータ ソースから行をサンプリングできます。  
  
 詳細については、「[行サンプリング変換](../integration-services/data-flow/transformations/row-sampling-transformation.md)」および「[比率サンプリング変換](../integration-services/data-flow/transformations/percentage-sampling-transformation.md)」を参照してください。  
  
## <a name="see-also"></a>参照  
 [データ マイニングの準備のチェック リスト](checklist-of-preparation-for-data-mining.md)  
  
  
