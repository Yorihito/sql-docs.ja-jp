---
title: SQL Server におけるアプリケーション セキュリティのシナリオ
description: ADO.NET および SQL Server アプリケーションに該当するさまざまなセキュリティ シナリオを取り上げます。
ms.date: 09/26/2019
ms.assetid: 0164f3a4-406e-4693-bec3-03c8e18b46d7
ms.prod: sql
ms.prod_service: connectivity
ms.technology: connectivity
ms.topic: conceptual
author: David-Engel
ms.author: v-daenge
ms.reviewer: v-kaywon
ms.openlocfilehash: e686e404ab4c948811b217291d1a9a7d2adc9feb
ms.sourcegitcommit: fe5c45a492e19a320a1a36b037704bf132dffd51
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/08/2020
ms.locfileid: "80928957"
---
# <a name="application-security-scenarios-in-sql-server"></a>SQL Server におけるアプリケーション セキュリティのシナリオ

[!INCLUDE[Driver_ADONET_Download](../../../includes/driver_adonet_download.md)]

安全な SQL Server クライアント アプリケーションを作成するための唯一の正しい方法はありません。 すべてのアプリケーションの要件、デプロイ環境、およびユーザーの作成はそれぞれ独自のものです。 アプリケーションを最初のデプロイ時に適切にセキュリティ保護しても、時間の経過と共にセキュリティが低下していく可能性があります。 将来発生する可能性がある脅威を正確に予測することはできません。  
  
SQL Server は製品として多くのバージョンを経て進化し、開発者が安全なデータベース アプリケーションを作成するための最新のセキュリティ機能が組み込まれてきました。 ただし、セキュリティはそのままで使えるものではありません。継続的な監視と更新が必要です。  
  
## <a name="common-threats"></a>一般的な脅威  
開発者は、セキュリティ上の脅威、それらに対抗するために提供されているツール、および自ら招いたセキュリティ ホールを回避する方法を理解している必要があります。 セキュリティは、その輪の 1 つでも傷ついていると、全体の強度が低下する鎖と考えると良いでしょう。 次の一覧に、このセクションのトピックで詳細に説明しているいくつかの一般的なセキュリティ上の脅威を示しています。  
  
### <a name="sql-injection"></a>SQL インジェクション  
SQL インジェクションとは、悪意のあるユーザーが有効な入力の代わりに Transact-SQL ステートメントを入力するプロセスです。 入力が検証されずにサーバーに直接渡され、挿入されたコードがアプリケーションによって誤って実行されると、この攻撃によってデータが破損または破壊される可能性があります。 SQL Server インジェクション攻撃を阻止するには、ストアド プロシージャとパラメーター化コマンドを使用し、動的 SQL を回避して、すべてのユーザーのアクセス許可を制限します。  
  
### <a name="elevation-of-privilege"></a>権限の昇格  
権限の昇格攻撃は、ユーザーが所有者や管理者など、信頼されたアカウントの権限を取得できる場合に発生します。 常に最小権限のユーザー アカウントで実行し、必要なアクセス許可のみを割り当ててください。 コードの実行には管理者アカウントまたは所有者アカウントを使用しないでください。 これにより、攻撃が成功した場合に発生する可能性がある損害を限定できます。 追加のアクセス許可を必要とするタスクを実行する場合は、タスクの実行中にのみプロシージャ署名や権限借用を使用します。 証明書を使ってストアド プロシージャに署名したり、権限の借用を使用して一時的に権限を割り当てたりできます。  
  
### <a name="probing-and-intelligent-observation"></a>プローブとインテリジェント監視  
プローブ攻撃では、アプリケーションによって生成されたエラー メッセージを使用して、セキュリティの脆弱性を探られる可能性があります。 SQL Server エラー情報がエンド ユーザーに返されないように、すべての手続き型コードでエラー処理を実装します。  
  
### <a name="authentication"></a>認証  
実行時にユーザー入力に基づいた接続文字列が構築される場合、SQL Server ログインを使用すると、接続文字列インジェクション攻撃が発生する可能性があります。 接続文字列の有効なキーワード ペアがチェックされない場合、攻撃者は余分な文字を挿入できるため、サーバー上の機密データやその他のリソースにアクセスできる可能性があります。 可能であれば、Windows 認証を使用します。 SQL Server ログインを使用する必要がある場合は、<xref:Microsoft.Data.SqlClient.SqlConnectionStringBuilder> を使用して、実行時に接続文字列を作成し、検証します。  
  
### <a name="passwords"></a>パスワード  
侵入者は特権ユーザーのパスワードを取得または推測できたため、多くの攻撃が成功します。 パスワードは侵入者に対する防御の最前線であるため、システムのセキュリティにとって強力なパスワードを設定することは不可欠です。 混合モード認証のパスワード ポリシーを作成して適用します。  
  
Windows 認証を使用している場合でも、`sa` アカウントには常に強力なパスワードを割り当てます。  
  
## <a name="in-this-section"></a>このセクションの内容  
[SQL Server での安全な動的 SQL の作成](writing-secure-dynamic-sql.md)  
ストアド プロシージャを使用して、安全な動的 SQL を作成する方法について説明します。  

## <a name="next-steps"></a>次のステップ
- [SQL Server のセキュリティ](sql-server-security.md)
